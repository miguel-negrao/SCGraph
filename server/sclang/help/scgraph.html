<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="Content-Style-Type" content="text/css">
<title></title>
<meta name="Generator" content="Cocoa HTML Writer">
<meta name="CocoaVersion" content="949.33">
<style type="text/css">
p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
p.p3 {margin: 0.0px 0.0px 0.0px 0.0px}
p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco}
p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #00377f; min-height: 12.0px}
p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #00377f}
p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #000000}
p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; color: #007300}
p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 9.0px Monaco; min-height: 12.0px}
p.p10 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #004eda}
span.s1 {font: 18.0px Helvetica}
span.s2 {font: 12.0px Helvetica}
span.s3 {text-decoration: underline ; color: #001423}
span.s4 {color: #0039a1}
span.s5 {color: #0000bf}
span.s6 {color: #007300}
span.s7 {color: #606060}
span.s8 {color: #000000}
span.s9 {font: 12.0px Helvetica; text-decoration: underline ; color: #004eda}
span.s10 {color: #004eda}
span.s11 {font: 12.0px Helvetica; color: #004eda}
span.Apple-tab-span {white-space:pre}
</style>
</head>
<body>
<p class="p1"><span class="s1"><b>ScGraph<span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span></b></span><b>A 3D graphics server for SuperCollider</b></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1">2007, 2008 Florian Schmidt (originally implemented at Bielefeld University)</p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p3"><span class="s2"><img src="attachments/scgraph/blurred_cube_white_alpha.png" alt="attachments/scgraph/blurred_cube_white_alpha.png"></span></p>
<p class="p2"><br></p>
<p class="p1">In May 2007 i completed my studies of Computer Science (naturwissenschaftliche Informatik) at the <a href="http://www.techfak.uni-bielefeld.de/ags/ni"><span class="s3">Neuroinformatics group</span></a> of the <a href="http://www.techfak.uni-bielefeld.de/"><span class="s3">Faculty of Technology</span></a> of the <a href="http://www.uni-bielefeld.de/"><span class="s3">University of Bielefeld</span></a> by handing in my diploma thesis. The subject of the thesis was “Design and Implementation of a 3D Graphics Server”. I was tutored by <a href="http://www.techfak.uni-bielefeld.de/~tboverma/"><span class="s3">Till Bovermann</span></a>, <a href="http://www.techfak.uni-bielefeld.de/~thermann/"><span class="s3">Thomas Hermann</span></a> und <a href="http://www.techfak.uni-bielefeld.de/ags/ni/people/helge/"><span class="s3">Helge Ritter</span></a>. In the course of the thesis i have developed ScGraph (short for “SuperCollider Graphics Server”).</p>
<p class="p1"><b>Introduction:</b></p>
<p class="p1">The main idea was to apply the SuperCollider Server/Client architecture and usage paradigm to the domain of 3D graphics. Simply put (for those familiar with SuperCollider):<span class="Apple-converted-space"> </span></p>
<p class="p1">Instead of</p>
<p class="p4"><span class="Apple-tab-span">	</span>{<span class="s4">SinOsc</span>.ar}.play</p>
<p class="p2"><br></p>
<p class="p1">we wanted to be able to do:</p>
<p class="p4"><span class="Apple-tab-span">	</span>{<span class="s4">GCube</span>.gr}.play</p>
<p class="p2"><br></p>
<p class="p1">To achieve this, create a Graphics Server Representation:</p>
<p class="p5"><br></p>
<p class="p6">(</p>
<p class="p7">g = <span class="s5">Server</span>(<span class="s6">\graphics</span>, <span class="s5">NetAddr</span>(<span class="s7">"localhost"</span>, 37291));</p>
<p class="p7">g.boot;</p>
<p class="p1">)</p>
<p class="p2"><br></p>
<p class="p1">As a means to spawn a synth that outputs a 3D representation of a Cube (”gr” here means “graphics rate”). To reduce the implementation effort we decided to reuse the existing SynthDef (and related) classes. The SynthDef format and the OSC protocol of the graphics server is mainly unchanged from the original SuperCollider framework. In the graphics server graphics processing takes the place of audio rate processing, but keeping control rate processing.</p>
<p class="p1">Actually, our example was a bit more involved:</p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p4">(</p>
<p class="p8"><span class="s5">SynthDef</span><span class="s8"> (</span>\WobblingCube<span class="s8">, {</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="s5">var</span> source;</p>
<p class="p7"><span class="Apple-tab-span">	</span>source = <span class="s5">GCube</span>.gr(size: <span class="s5">SinOsc</span>.kr(freq: 0.5));</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="s5">Out</span>.gr(source);</p>
<p class="p7">}).play(target: g);</p>
<p class="p4">)</p>
<p class="p2"><br></p>
<p class="p1">This example shows that the original SuperCollider control rate units are still usable (<b>SinOsc.kr</b> creates a control rate instance of the <b>SinOsc</b> unit). A cube is produced that changes its size periodically with a frequency of 0.5Hz.</p>
<p class="p1">Actually above example wouldn’t produce anything visible yet. One major difference between ScGraph and ScSynth (the SuperCollider audio synthesis server) is that graphics buses, contrary to audio buses, are not connected to the equivalent of a soundcard. To see anything a special unit needs to be created: GGLRenderer. Here’s a more complete example that actually produces a window on the screen with some animated graphics.</p>
<p class="p9"><br></p>
<p class="p4">(</p>
<p class="p8"><span class="s5">SynthDef</span><span class="s8"> (</span>\WobblingCube<span class="s8">, {</span></p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="s5">var</span> source;</p>
<p class="p7"><span class="Apple-tab-span">	</span>source = <span class="s5">GCube</span>.gr(size: <span class="s5">SinOsc</span>.kr(freq: 0.5));</p>
<p class="p7"><span class="Apple-tab-span">	</span><span class="s5">GGLRenderer</span>.gr(source);</p>
<p class="p7">}).play(target: g);</p>
<p class="p4">)<span class="Apple-converted-space"> </span></p>
<p class="p2"><span class="Apple-converted-space"> </span></p>
<p class="p1"><b>Central Data Structures</b></p>
<p class="p2"><br></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>renderer</b></p>
<p class="p10"><span class="s8"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span><a href="GGLRenderer.html"><span class="s9">GGLRenderer</span></a><span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>texture, etc</b></p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GColor.html"><span class="s10">GColor</span></a><span class="Apple-tab-span">	</span>(note that there is also the convenience instance-method Color:gr)</p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GBlending.html"><span class="s11">GBlending</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GCulling.html"><span class="s11">GCulling</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GLight.html"><span class="s11">GLight</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GLighting.html"><span class="s11">GLighting</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GMaterial.html"><span class="s11">GMaterial</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GTexQuad.html"><span class="s11">GTexQuad</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GShaderProgram.html"><span class="s11">GShaderProgram</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GShaderUniform.html"><span class="s11">GShaderUniform</span></a></span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>positioning</b></p>
<p class="p10"><span class="s8"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span><a href="GStretch.html"><span class="s11">GStretch</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GRotate.html"><span class="s11">GRotate</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GTransform.html"><span class="s11">GTransform</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GTranslate.rtf"><span class="s11">GTranslate</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GFreqAmp.html"><span class="s11">GFreqAmp</span></a></span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p1"><span class="Apple-tab-span">	</span><b>graphics primitives 2d</b></p>
<p class="p10"><span class="s8"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span><a href="GBorderedRectangle.html"><span class="s11">GBorderedRectangle</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GLine.html"><span class="s11">GLine</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GPoints.html"><span class="s11">GPoints</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GPolygon.html"><span class="s11">GPolygon</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GQuad.html"><span class="s11">GQuad</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GRectangle.html"><span class="s11">GRectangle</span></a></span></p>
<p class="p10"><span class="s8"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span><a href="GTriangle.html"><span class="s11">GTriangle</span></a></span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>graphics primitives 3d</b></p>
<p class="p10"><span class="s8"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span><a href="GCube.html"><span class="s11">GCube</span></a></span></p>
<p class="p2"><span class="Apple-tab-span">	</span></p>
<p class="p1"><b><span class="Apple-tab-span">	</span>graphics bus access</b></p>
<p class="p1"><b><span class="Apple-tab-span">	</span></b><span class="Apple-tab-span">	</span>In</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>Out</p>
<p class="p1"><span class="Apple-tab-span">	</span><span class="Apple-tab-span">	</span>ReplaceOut<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p2"><br></p>
<p class="p1"><b>Features:</b></p>
<p class="p1">- Should build on Linux as well as Mac OS X (the mac port still has some issues)<br>
- SuperCollider OSC protocol (partly implemented)<br>
- SuperCollider SynthDef format<br>
- SuperCollider plugin loading to make use of control rate units<br>
- Support for geometry producing/consuming units (GUnits)<br>
- OpenGL rendering (although different renderers should in practice be possible to implement)<br>
- Lighting<br>
- Blending<br>
- Textures (preliminary, hack’ish)</p>
<p class="p2"><br></p>
<p class="p1"><b>TODO’s:</b></p>
<p class="p1">- Optimization (too many copies are made at the moment due to the flexible routing possibilities)<br>
- Completion of SC-OSC protocoll (there are some commands still missing)<br>
- Buffer support<br>
- Improve texture support (via Buffers maybe?)<br>
- Extend SynthDef format to support strings, geometry, etc.<br>
- Fix up the GServer/GServerOptions classes</p>
<p class="p1">Patches welcome.</p>
<p class="p2"><br></p>
<p class="p1"><b>Screenshots:</b></p>
<p class="p1">What’s a program overview without screenshots? So here we go:</p>
<p class="p3"><span class="s2"><img src="attachments/scgraph/scgraph_wiggling_blurred_cubes2.png" alt="attachments/scgraph/scgraph_wiggling_blurred_cubes2.png"></span></p>
<p class="p3"><span class="s2"><img src="attachments/scgraph/scgraph_crazy.png" alt="attachments/scgraph/scgraph_crazy.png"></span></p>
<p class="p3"><span class="s2"><img src="attachments/scgraph/scgraph_funny_stuff.png" alt="attachments/scgraph/scgraph_funny_stuff.png"></span></p>
<p class="p3"><span class="s2"><img src="attachments/scgraph/scgraph_more_stuff.png" alt="attachments/scgraph/scgraph_more_stuff.png"></span></p>
<p class="p2"><br></p>
<p class="p1"><b>License:</b></p>
<p class="p10"><span class="s8">ScGraph uses the <a href="http://www.gnu.org/licenses/gpl-2.0.txt"><span class="s9">GNU General public license (GPL) version 2</span></a>.</span></p>
<p class="p2"><br></p>
<p class="p1"><b>Downloads:</b></p>
<p class="p1">NEW releases can be found at the sourceforge.net project page: <a href="http://sf.net/projects/scgraph"><span class="s3">http://sf.net/projects/scgraph</span></a></p>
<p class="p1">You can find OLD release tarballs of ScGraph at <a href="http://tapas.affenbande.org/scgraph/"><span class="s3">http://tapas.affenbande.org/scgraph/</span></a></p>
<p class="p2"><br></p>
<p class="p1"><b>SVN:</b></p>
<p class="p1">SVN access is possible through the sourceforge.net site.</p>
<p class="p2"><br></p>
<p class="p1"><b>Requirements:</b></p>
<p class="p1">- A pretty recent SuperCollider installation including the development files (see scons -h in the SuperCollider source for how to do this)<br>
- Qt4<br>
- GraphicsMagick++<br>
- OSCPack<br>
- Boost libraries<br>
- Jack/FFTW3 (only needed for the FFT unit FreqAmp)</p>
<p class="p2"><br></p>
<p class="p1"><b>Installation:</b></p>
<p class="p1">See the included INSTALL file for installation instructions.</p>
<p class="p2"><br></p>
<p class="p1"><b>Documentation</b></p>
<p class="p1">Use the source, Luke ;) Simply have a look into the $(PREFIX)/share/scgraph/sclang directory to see what classes are available.</p>
</body>
</html>
